{"version":3,"file":"index.browser.js","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/js-cookie/dist/js.cookie.mjs","../src/config.ts","../src/networking/ApiRequest.ts","../src/networking/ApiManager.ts","../src/styles/popup.ts","../src/types/survey.ts","../src/index.ts","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../src/helpers/getRoundedCornersInPx.ts"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","const urls = {\n    // popupIframe: 'http://localhost:3003/surveys/popup',\n    // api: 'http://localhost:8080/api/',\n    popupIframe: 'https://surveys.usequalli.com/surveys/popup',\n    api: 'https://api.usequalli.com/api/',\n};\n\nexport {urls};\n","import getDeviceMetaData from './../helpers/getDeviceMetaData';\n\ninterface Props {\n    apiKey: string;\n    url: string;\n    method: 'GET' | 'POST';\n    headers?: {};\n    body?: {};\n}\n\nconst ApiRequest = async (props: Props) => {\n    const {apiKey, url, method, headers, body} = props;\n    const deviceMetaData = {};\n\n    try {\n        const options = {\n            method,\n            headers: {\n                Authorization: `Bearer ${apiKey}`,\n                'Content-Type': 'application/json',\n                platform: 'web',\n                ...headers,\n            },\n            body: body\n                ? JSON.stringify({...body, event_metadata: deviceMetaData})\n                : JSON.stringify({event_metadata: deviceMetaData}),\n        };\n\n        const response = await fetch(url, options);\n\n        if (!response.ok) {\n            throw new Error(`API request failed: ${response.statusText}`);\n        }\n\n        const jsonResponse = await response.json();\n        return jsonResponse;\n    } catch (error: any) {\n        console.error(`API request error: ${error.message}`);\n        throw error;\n    }\n};\n\nexport default ApiRequest;\n","import {urls} from '../config';\nimport type {SurveyActions} from '../types';\nimport apiRequest from './ApiRequest';\n\nconst API_BASE_PATH = urls.api;\n\nconst ApiManager = {\n    identify: async (\n        apiKey: string,\n        userKey?: string,\n        userSessionKey?: string,\n    ) => {\n        const url = `${API_BASE_PATH}app-user/start-session`;\n        const headers: any = {};\n        if (userSessionKey) {\n            headers['user_key'] = userKey;\n        }\n        if (userSessionKey) {\n            headers['user_session_key'] = userSessionKey;\n        }\n\n        try {\n            const jsonResponse = await apiRequest({\n                apiKey,\n                url,\n                method: 'POST',\n                body: {},\n                headers,\n            });\n\n            if (jsonResponse.success) {\n                // logger('QUALLI: identify ', jsonResponse);\n                return jsonResponse;\n            }\n            console.error('QUALLI: Failed to identify user');\n        } catch (error) {\n            console.error('QUALLI: Failed to identify user: ', error);\n            return {success: false};\n        }\n    },\n\n    setUserAttributes: async (\n        apiKey: string,\n        userSessionKey: string,\n        attributes: any,\n    ) => {\n        if (Object.keys(attributes).length === 0) {\n            // logger('QUALLI: No attributes to send');\n            return;\n        }\n\n        const url = `${API_BASE_PATH}app-user/set-attributes`;\n\n        if (!userSessionKey) {\n            console.error('QUALLI: No session ID available');\n            return;\n        }\n        const headers = {'user-session-key': userSessionKey};\n\n        try {\n            await apiRequest({\n                apiKey,\n                url,\n                method: 'POST',\n                headers,\n                body: {attributes, timestamp: new Date()},\n            });\n            // logger('QUALLI: Successfully set user attributes');\n        } catch (error) {\n            console.error('QUALLI: Error setting user attributes: ', error);\n        }\n    },\n\n    performTrigger: async (\n        apiKey: string,\n        userSessionKey: string,\n        trigger: {name: string},\n    ) => {\n        if (!trigger?.name) {\n            // logger('QUALLI: Invalid trigger');\n            return;\n        }\n\n        const url = `${API_BASE_PATH}app-user-events/trigger`;\n\n        if (!userSessionKey) {\n            console.error('QUALLI: No session ID available');\n            return;\n        }\n        const headers = {'user-session-key': userSessionKey};\n\n        try {\n            const jsonResponse = await apiRequest({\n                apiKey,\n                url,\n                method: 'POST',\n                headers,\n                body: {trigger, timestamp: new Date()},\n            });\n\n            if (jsonResponse.success) {\n                // logger('QUALLI: Successfully performed trigger');\n                return jsonResponse;\n            }\n            console.error('QUALLI: Error performing trigger');\n        } catch (error) {\n            console.error('QUALLI: Error performing trigger: ', error);\n        }\n    },\n\n    trackScreen: async (\n        apiKey: string,\n        userSessionKey: string,\n        screen: {url: string},\n    ) => {\n        if (!screen?.url) {\n            // logger('QUALLI: Invalid trigger');\n            return;\n        }\n\n        const url = `${API_BASE_PATH}app-user-events/screen`;\n\n        if (!userSessionKey) {\n            console.error('QUALLI: No session ID available');\n            return;\n        }\n        const headers = {'user-session-key': userSessionKey};\n\n        try {\n            const jsonResponse = await apiRequest({\n                apiKey,\n                url,\n                method: 'POST',\n                headers,\n                body: {screen, timestamp: new Date()},\n            });\n\n            if (jsonResponse.success) {\n                // logger('QUALLI: Successfully performed trigger');\n                return jsonResponse;\n            }\n            console.error('QUALLI: Error performing track screen');\n        } catch (error) {\n            console.error('QUALLI: Error performing track screen: ', error);\n        }\n    },\n\n    logSurveyAction: async (\n        apiKey: string,\n        userSessionKey: string,\n        uniqueId: string,\n        action: SurveyActions,\n        data: {},\n    ) => {\n        const url = `${API_BASE_PATH}surveys/${uniqueId}/action`;\n\n        if (!userSessionKey) {\n            console.error('QUALLI: No session ID available');\n            return;\n        }\n        const headers = {'user-session-key': userSessionKey};\n\n        try {\n            await apiRequest({\n                apiKey,\n                url,\n                method: 'POST',\n                headers,\n                body: {action, data, timestamp: new Date()},\n            });\n            // logger('QUALLI: Successfully logged the survey action');\n        } catch (error: any) {\n            // logger(error?.response || '');\n            console.error('QUALLI: Error logging the survey action: ', error);\n        }\n    },\n\n    logEvent: async (\n        apiKey: string,\n        userSessionKey: string,\n        action: string,\n    ) => {\n        const url = `${API_BASE_PATH}app-user-events/store`;\n\n        if (!userSessionKey) {\n            console.error('QUALLI: No session ID available');\n            return;\n        }\n        const headers = {'user-session-key': userSessionKey};\n\n        try {\n            await apiRequest({\n                apiKey,\n                url,\n                method: 'POST',\n                headers,\n                body: {action, event_name: action, timestamp: new Date()},\n            });\n            // logger('QUALLI: Successfully logged the action');\n        } catch (error: any) {\n            // logger(error?.response || '');\n            console.error('QUALLI: Error logging the action: ', error);\n        }\n    },\n};\n\nexport default ApiManager;\n","// large screen styles\nconst largeScreenStyles = {\n    position: 'fixed',\n    width: '400px',\n    height: '250px',\n    bottom: '-100%',\n    'border-radius': '12px',\n    border: 'none',\n    opacity: 1,\n    transition: 'all 400ms ease-in-out',\n};\n\nconst largeScreenLeftStyles = {\n    left: '24px',\n};\n\nconst largeScreenCentertStyles = {\n    left: '50%',\n    transform: 'translate(-50%, 0)',\n};\n\nconst largeScreenRightStyles = {\n    right: '24px',\n};\n\n// Styles for smaller screens\nconst smallScreenStyles = {\n    position: 'fixed',\n    left: '0',\n    bottom: '-100%', // start off screen\n    width: '100%',\n    height: '200px',\n    border: 'none',\n    'max-height': '100%',\n    'border-top-left-radius': '16px',\n    'border-top-right-radius': '16px',\n    transition: 'all 400ms ease-in-out',\n};\n\nexport default {\n    styles: {\n        screens: {\n            large: largeScreenStyles,\n            small: smallScreenStyles,\n        },\n        popupPlacement: {\n            left: largeScreenLeftStyles,\n            center: largeScreenCentertStyles,\n            right: largeScreenRightStyles,\n        },\n    },\n};\n","export interface Survey {\n    unique_identifier: string;\n    slides: Array<\n        | InputSlide\n        | MultipleChoiceSlide\n        | StarSlide\n        | NumericSlide\n        | NPSSlide\n        | TextSlide\n    >;\n    person?: Person;\n    theme: SurveyTheme;\n    popup_placement?: SurveyPlacementTypes;\n}\n\n// DIFFERENT TYPES\nexport interface InputSlide extends Slide {\n    type: SlideType.input;\n    placeholder: string;\n    multiline?: boolean;\n}\n\nexport interface MultipleChoiceSlide extends Slide {\n    type: SlideType.multiplechoice;\n    multiple: true;\n    options: {label: string}[];\n}\n\nexport interface StarSlide extends Slide {\n    type: SlideType.star;\n}\n\nexport interface NumericSlide extends Slide {\n    type: SlideType.numeric;\n    min: number;\n    max: number;\n}\n\nexport interface TextSlide extends Slide {\n    type: SlideType.text;\n}\n\nexport interface NPSSlide extends Slide {\n    type: SlideType.nps;\n}\n\n// BASE\nexport interface Slide {\n    unique_identifier: string;\n    title: string;\n    subtitle?: string;\n    type: SlideType;\n    button_label?: string;\n}\n\nexport interface SurveyTheme {\n    unique_identifier: string;\n    name: string;\n    title_color: string;\n    subtitle_color: string;\n    answer_color: string;\n    button_color: string;\n    button_text_color: string;\n    background_color: string;\n    popup_border_color: string;\n    popup_border_width: number;\n    popup_rounded_corners: SurveyThemePopupRoundedCorners;\n}\n\ninterface Person {\n    name: string;\n    role?: string;\n    avatar: string;\n}\n\nexport enum SlideType {\n    'input' = 'input',\n    'multiplechoice' = 'multiplechoice',\n    'star' = 'star',\n    'numeric' = 'numeric',\n    'nps' = 'nps',\n    'text' = 'text',\n}\n\nexport enum SurveyActions {\n    SURVEY_SHOWN = 'survey_shown',\n    SURVEY_COMPLETED = 'survey_completed',\n    SURVEY_SKIPPED = 'survey_skipped',\n}\n\nexport enum SurveyPlacementTypes {\n    BOTTOM_LEFT = 'bottom_left',\n    BOTTOM_RIGHT = 'bottom_right',\n    BOTTOM_CENTER = 'bottom_center',\n}\n\nexport enum SurveyThemePopupRoundedCorners {\n    none = 'none',\n    small = 'small',\n    medium = 'medium',\n    large = 'large',\n}\n","import Cookies from 'js-cookie';\nimport ApiManager from './networking/ApiManager';\nimport PopupStyles from './styles/popup';\nimport {\n    Survey,\n    SurveyThemePopupRoundedCorners,\n    QualliSDKInitOptions,\n} from './types/index';\nimport mapPopupBorderRadiusToPx from './helpers/getRoundedCornersInPx';\nimport {urls} from './config';\n\nclass QualliSDK {\n    popupId = 'qualli-survey-popup-iframe';\n    company: any = {};\n    userSessionKey = '';\n    userKey = '';\n    apiKey = '';\n    surveyToComplete?: Survey;\n    popupInFrame = false;\n    previousUrl = '';\n\n    constructor() {\n        this.handleIframeMessages = this.handleIframeMessages.bind(this);\n    }\n\n    async init(apiKey: string, options?: QualliSDKInitOptions) {\n        // check out cookies for a use session key\n        // if no key, create one\n        // save the key in cookies\n        let userKey = Cookies.get('qualli_user_key');\n        let userSessionKey = Cookies.get('qualli_user_session_key');\n        this.apiKey = apiKey;\n\n        const response = await ApiManager.identify(\n            apiKey,\n            userKey,\n            userSessionKey,\n        );\n        if (\n            !response?.success ||\n            !response?.app_user_key ||\n            !response?.session_key\n        ) {\n            return;\n        }\n\n        Cookies.set('qualli_user_session_key', response.session_key);\n        Cookies.set('qualli_user_key', response.app_user_key);\n\n        this.userSessionKey = response.session_key;\n        this.userKey = response.app_user_key;\n        this.company = response.company_info;\n\n        if (options?.trackScreens || !options) {\n            this.trackScreenChange();\n            this.setupScreenTracking();\n        }\n    }\n\n    async performTrigger(trigger: string) {\n        const res = await ApiManager.performTrigger(\n            this.apiKey,\n            this.userSessionKey,\n            {name: trigger},\n        );\n\n        // if success -> see if we have any open surveys\n        if (res?.success) {\n            // see if we have any open surveys\n            const surveys = res?.data?.surveys?.data;\n\n            if (surveys?.length > 0) {\n                if (!this.popupInFrame) {\n                    this.showPopup(surveys[0]);\n                    return;\n                }\n            }\n        }\n    }\n\n    async setAttributes(attributes: {[key: string]: string | number} = {}) {\n        await ApiManager.setUserAttributes(\n            this.apiKey,\n            this.userSessionKey,\n            attributes,\n        );\n    }\n\n    reset() {\n        if (this.popupInFrame) {\n            this.closePopup();\n        }\n\n        // clear cookies\n        Cookies.remove('qualli_user_session_key');\n        Cookies.remove('qualli_user_key');\n\n        this.userSessionKey = '';\n        this.userKey = '';\n        this.surveyToComplete = undefined;\n        this.popupInFrame = false;\n        this.previousUrl = '';\n\n        // re-init\n        setTimeout(() => {\n            this.init(this.apiKey);\n        }, 1 * 1000);\n    }\n\n    private setupScreenTracking() {\n        const originalPushState = history.pushState;\n        const originalReplaceState = history.replaceState;\n\n        history.pushState = (...args) => {\n            originalPushState.apply(history, args);\n            this.trackScreenChange();\n        };\n\n        history.replaceState = (...args) => {\n            originalReplaceState.apply(history, args);\n            this.trackScreenChange();\n        };\n\n        window.addEventListener('popstate', () => {\n            this.trackScreenChange();\n        });\n    }\n\n    private async trackScreenChange() {\n        const fulllURL = window.location.href;\n        // remove query params\n        const path = fulllURL.split('?')[0];\n\n        if (path === this.previousUrl) return;\n        this.previousUrl = path;\n\n        const res = await ApiManager.trackScreen(\n            this.apiKey,\n            this.userSessionKey,\n            {url: path},\n        );\n\n        // if success -> see if we have any open surveys\n        if (res?.success) {\n            // see if we have any open surveys\n            const surveys = res?.data?.surveys?.data;\n\n            if (surveys?.length > 0) {\n                if (!this.popupInFrame) {\n                    this.showPopup(surveys[0]);\n                    return;\n                }\n            }\n        }\n        // Implement your tracking logic here, e.g., send data to a server\n    }\n\n    private showPopup(survey: Survey) {\n        this.surveyToComplete = survey;\n        this.popupInFrame = true;\n\n        const iframe = document.createElement('iframe');\n        const queryParams = {\n            survey_id: survey.unique_identifier,\n            popup: 'true',\n        };\n        const queryParmasString = Object.keys(queryParams)\n            // @ts-ignore-next-line\n            .map((key) => key + '=' + queryParams[key])\n            .join('&');\n\n        const placement = survey?.popup_placement || 'bottom_right';\n        const borderRadius = mapPopupBorderRadiusToPx(\n            survey.theme.popup_rounded_corners ||\n                SurveyThemePopupRoundedCorners.medium,\n        );\n        const borderColor = survey.theme.popup_border_color || '#000000';\n        const borderWidth = survey.theme.popup_border_width + 'px' || 0 + 'px';\n\n        // Check screen size and apply styles\n        let popupPlacementHorizontalStyles: any =\n            PopupStyles.styles.popupPlacement.left;\n        if (placement === 'bottom_right') {\n            popupPlacementHorizontalStyles =\n                PopupStyles.styles.popupPlacement.right;\n        } else if (placement === 'bottom_center') {\n            popupPlacementHorizontalStyles =\n                PopupStyles.styles.popupPlacement.center;\n        }\n\n        if (window.innerWidth < 600) {\n            Object.assign(iframe.style, {\n                ...PopupStyles.styles.screens.small,\n                borderTopLeftRadius: borderRadius,\n                borderTopRightRadius: borderRadius,\n            });\n        } else {\n            Object.assign(iframe.style, {\n                ...PopupStyles.styles.screens.large,\n                ...popupPlacementHorizontalStyles,\n                borderRadius: borderRadius,\n                borderColor: borderColor,\n                borderWidth: borderWidth,\n                border: 'solid',\n            });\n        }\n\n        iframe.src = `${urls.popupIframe}?${queryParmasString}`;\n        iframe.id = this.popupId; // An identifier for the iframe\n\n        // Append the iframe to the body\n        document.body.appendChild(iframe);\n\n        // Start the animation\n        setTimeout(() => {\n            if (window.innerWidth < 600) {\n                iframe.style.bottom = '0';\n            } else {\n                iframe.style.bottom = '24px';\n            }\n        }, 100);\n\n        // Event listener for messages from the iframe\n        window.addEventListener('message', this.handleIframeMessages, false);\n    }\n\n    private handleIframeMessages(event: any) {\n        // Ensure the message is from the expected source\n\n        if (!event?.data?.message) return;\n\n        const message = event.data.message;\n\n        if (message.type === 'close') {\n            // save the answers we have\n            this.closePopup();\n        }\n\n        if (message.type === 'ready') {\n            // send the survey data\n            this.postMessage('survey_to_complete', this.surveyToComplete);\n            this.postMessage('auth', {\n                userSessionKey: this.userSessionKey,\n                apiKey: this.apiKey,\n                companyPlan: this.company?.plan,\n            });\n        }\n\n        if (message.type === 'survey_completed') {\n            this.closePopup();\n        }\n        if (message.type === 'survey_aborted') {\n            this.closePopup();\n        }\n\n        if (message.type === 'window_height_request') {\n            const height = message.data.height;\n            this.resizePopup(height);\n        }\n    }\n\n    private resizePopup(height: number) {\n        if (!isNaN(height)) {\n            const iframe = document.getElementById(this.popupId);\n            if (iframe) {\n                iframe.style.height = height + 'px';\n            }\n        }\n    }\n\n    private closePopup() {\n        this.popupInFrame = false;\n        window.removeEventListener('message', this.handleIframeMessages);\n\n        const iframe = document.getElementById(this.popupId);\n        if (iframe) {\n            iframe.style.bottom = '-100%';\n            iframe.style.opacity = '0';\n\n            setTimeout(() => {\n                iframe.remove();\n            }, 1 * 1000); // wait long enough for the API calls to finish\n        }\n    }\n\n    private postMessage = (message: any, data?: any) => {\n        const iframe = document.getElementById(this.popupId);\n        if (iframe) {\n            iframe.contentWindow.postMessage(\n                {\n                    message: {\n                        type: message,\n                        data,\n                    },\n                },\n                '*',\n            );\n        }\n    };\n}\n\n// Initialize and export the SDK instance\nconst Qualli = new QualliSDK();\nexport default Qualli;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import {SurveyThemePopupRoundedCorners} from '../types/index';\n\nconst mapPopupBorderRadiusToPx = (\n    borderRadius: SurveyThemePopupRoundedCorners,\n): number => {\n    switch (borderRadius) {\n        case SurveyThemePopupRoundedCorners.none:\n            return 0;\n        case SurveyThemePopupRoundedCorners.small:\n            return 10;\n        case SurveyThemePopupRoundedCorners.medium:\n            return 18;\n        case SurveyThemePopupRoundedCorners.large:\n            return 24;\n        default:\n            return 10; // default\n    }\n};\n\nexport default mapPopupBorderRadiusToPx;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_defineProperty","obj","module","exports","__esModule","require$$0","_regeneratorRuntime","n","hasOwnProperty","a","c","asyncIterator","u","toStringTag","define","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","async","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","runtime","regenerator","regeneratorRuntime","accidentalStrictMode","globalThis","Function","assign","source","api","init","converter","defaultAttributes","set","attributes","document","expires","Date","now","toUTCString","encodeURIComponent","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","split","cookie","write","get","cookies","jar","parts","join","found","read","remove","withAttributes","withConverter","freeze","path","urls","_logEvent","_logSurveyAction","_trackScreen","_performTrigger","_setUserAttributes","_identify","ApiRequest","_ref","_callee","apiKey","url","headers","body","deviceMetaData","options","response","jsonResponse","_context","_objectSpread","Authorization","concat","platform","JSON","stringify","event_metadata","fetch","ok","statusText","json","t0","console","message","_x","API_BASE_PATH","ApiManager","identify","userKey","userSessionKey","apiRequest","success","_x2","_x3","setUserAttributes","_callee2","_context2","timestamp","_x4","_x5","_x6","performTrigger","_callee3","trigger","_context3","_x7","_x8","_x9","trackScreen","_callee4","screen","_context4","_x10","_x11","_x12","logSurveyAction","_callee5","uniqueId","action","data","_context5","_x13","_x14","_x15","_x16","_x17","logEvent","_callee6","_context6","event_name","_x18","_x19","_x20","PopupStyles","screens","large","position","width","height","bottom","border","opacity","transition","small","left","popupPlacement","center","transform","right","SurveyThemePopupRoundedCorners","QualliSDK","_this","instance","Constructor","_classCallCheck","iframe","getElementById","popupId","contentWindow","postMessage","handleIframeMessages","bind","protoProps","staticProps","_trackScreenChange","_setAttributes","_init","Cookies","app_user_key","session_key","company","company_info","trackScreens","trackScreenChange","setupScreenTracking","res","_res$data","surveys","popupInFrame","showPopup","_args3","_this2","closePopup","surveyToComplete","previousUrl","setTimeout","_this3","originalPushState","history","pushState","originalReplaceState","replaceState","_len","Array","_key","_len2","_key2","window","addEventListener","fulllURL","_res$data2","location","href","survey","createElement","queryParams","survey_id","unique_identifier","popup","queryParmasString","map","placement","popup_placement","borderRadius","none","medium","mapPopupBorderRadiusToPx","theme","popup_rounded_corners","borderColor","popup_border_color","borderWidth","popup_border_width","popupPlacementHorizontalStyles","innerWidth","style","borderTopLeftRadius","borderTopRightRadius","src","id","appendChild","event","_event$data","_this$company","companyPlan","plan","resizePopup","removeEventListener"],"mappings":"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"}